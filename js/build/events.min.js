window.Events=function(e){var t={workerCallInterval:200},o=[],n={},r={activated:!1},i=function(){if(!1===r.activated){r.activated=!0;var e=setInterval((function(){0===o.length&&(r.activated=!1,clearInterval(e));for(var t=0;t<o.length;t++){var i=o[t],a=i[0],c=i[1],f=i[2].activated,v=i[2].remove,l=i[2].once,u=i[2].oldValue,s=i[2].type;"triggerEvent"===s?(!0===n[a].func()&&!1===f&&(c(),o[t][2].activated=!0),!0===v&&o.splice(t,1),!0===l&&!0===f&&o.splice(t,1),!0===f&&!0!==n[a].func()&&(o[t][2].activated=!1)):"morphEvent"===s&&(n[a].value()!==u&&!1===f&&(c(),o[t][2].activated=!0,o[t][2].oldValue=n[a].value()),!0===v&&o.splice(t,1),!0===l&&!0===f&&o.splice(t,1),!0===f&&n[a].value()!==u&&(o[t][2].activated=!1))}}),t.workerCallInterval)}},a=function(e,t,r,a){"addTask"===r&&"morph"===n[e].type&&(o.push([e,t,{activated:!1,remove:!1,once:a,type:"morphEvent",oldValue:n[e].value()}]),i()),"addTask"===r&&"trigger"===n[e].type&&(o.push([e,t,{activated:!1,remove:!1,once:a,type:"triggerEvent"}]),i()),"removeTask"===r&&!0===n.hasOwnProperty(e)&&function(e,t,n){for(var r=0;r<o.length;r++)o[r][0]===e&&o[r][1]===t&&(o[r][2][n.name]=n.value)}(e,t,{name:"remove",value:!0})};this.on=function(e,t,o){if("string"!=typeof e||"function"!=typeof t||"boolean"!=typeof o&&void 0!==o){if("string"!=typeof e||"function"!=typeof t||"boolean"!=typeof o||void 0!==o)throw new Error("Error adding listener. Scheme .on(string: eventName, function: callback, boolean: onceMode | undefined: onceMode )")}else a(e,t,"addTask",o)},this.off=function(e,t){if("string"==typeof e&&"function"==typeof t)a(e,t,"removeTask");else if("string"!=typeof e||"function"!=typeof t)throw new Error("Error remove listener. Scheme .off(string: eventName, function: callback)")},this.add=function(e,t){if("object"==typeof e&&void 0===t)Object.keys(e).forEach((function(t){if("function"!=typeof e[t])throw new Error("The description of the event with the name"+t+" was created incorrectly, the key value is not a function.");n[t]={func:e[t],type:"trigger"}}));else{if("object"!=typeof e||"morph"!==t)throw new Error("Incorrect event description.");Object.keys(e).forEach((function(t){if("function"!=typeof e[t])throw new Error("The description of the event with the name"+t+" was created incorrectly, the key value is not a function.");n[t]={value:e[t],type:"morph"}}))}},this.remove=function(e){!0===n.hasOwnProperty(e)&&"string"==typeof e&&delete n[e]};var c=function(e,t){Object.keys(e).forEach((function(o){t[o]=e[o]}))};!function(e){"object"==typeof e&&c(e,t)}(e)};