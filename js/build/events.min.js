window.Events=function(e){var t={workerCallInterval:200},o=[],n={},i={activated:!1},r=function(e,r,c,a){if(void 0===n[e])throw new Error('No "'+e+'" event found first describe it through the .add(...) method ');"addTask"===c&&void 0!==n[e]&&(o.push([e,r,{activated:!1,remove:!1,once:a}]),function(){if(!1===i.activated){i.activated=!0;var e=setInterval((function(){0===o.length&&(i.activated=!1,clearInterval(e));for(var t=0;t<o.length;t++){var r=o[t],c=r[0],a=r[1],f=r[2].activated,v=r[2].remove,d=r[2].once;"function"!=typeof n[c]&&o.splice(t,1),"function"==typeof n[c]&&!0===n[c]()&&!1===f&&(a(),o[t][2].activated=!0),!0===v&&o.splice(t,1),!0===d&&!0===f&&o.splice(t,1),!0===f&&!1===n[c]()&&(o[t][2].activated=!1)}}),t.workerCallInterval)}}()),"removeTask"===c&&void 0!==n[e]&&function(e,t,n){for(var i=0;i<o.length;i++)o[i][0]===e&&o[i][1]===t&&(o[i][2][n.name]=n.value)}(e,r,{name:"remove",value:!0})};this.on=function(e,t,o){if("string"!=typeof e||"function"!=typeof t||"boolean"!=typeof o&&void 0!==o){if("string"!=typeof e||"function"!=typeof t||"boolean"!=typeof o||void 0!==o)throw new Error("Error adding listener. Scheme .on(string: eventName, function: callback, boolean: onceMode | undefined: onceMode )")}else r(e,t,"addTask",o)},this.off=function(e,t){if("string"==typeof e&&"function"==typeof t)r(e,t,"removeTask");else if("string"!=typeof e||"function"!=typeof t)throw new Error("Error remove listener. Scheme .off(string: eventName, function: callback)")},this.add=function(e){if("object"!=typeof e)throw new Error("Incorrect event description, description is not an object.");Object.keys(e).forEach((function(t){if("function"!=typeof e[t])throw new Error("The description of the event with the name"+t+" was created incorrectly, the key value is not a function.");n[t]=e[t]}))},this.remove=function(e){void 0!==n[e]&&"string"==typeof e&&delete n[e]};var c=function(e,t){Object.keys(e).forEach((function(o){t[o]=e[o]}))};!function(e){"object"==typeof e&&c(e,t)}(e)};