$((function(){window.Events=function(e){var t={workerCallInterval:200};this.construct=function(e){$.extend(t,e)};var o=[],n={},i={activated:!1},r=function(e,r,a,c){if(void 0===n[e])throw new Error('No "'+e+'" event found first describe it through the .add(...) method ');"addTask"===a&&void 0!==n[e]&&(o.push([e,r,{activated:!1,remove:!1,once:c}]),function(e){if(!1===i.activated){i.activated=!0;var r=setInterval((function(){0===o.length&&(i.activated=!1,clearInterval(r));for(var e=0;e<o.length;e++){var t=o[e],a=t[0],c=t[1],f=t[2].activated,v=t[2].remove,d=t[2].once;!0===n[a]()&&!1===f&&(c(),o[e][2].activated=!0),!0===v&&o.splice(e,1),!0===d&&!0===f&&o.splice(e,1),!0===f&&!1===n[a]()&&(o[e][2].activated=!1)}}),t.workerCallInterval)}}()),"removeTask"===a&&void 0!==n[e]&&function(e,t,n){for(var i=0;i<o.length;i++)o[i][0]===e&&o[i][1]===t&&(o[i][2][n.name]=n.value)}(e,r,{name:"remove",value:!0})};this.on=function(e,t,o){if("string"!=typeof e||"function"!=typeof t||"boolean"!=typeof o&&void 0!==o){if("string"!=typeof e||"function"!=typeof t||"boolean"!=typeof o||void 0!==o)throw new Error("Error adding listener. Scheme .on(string: eventName, function: callback, boolean: onceMode | undefined: onceMode )")}else r(e,t,"addTask",o)},this.off=function(e,t){if("string"==typeof e&&"function"==typeof t)r(e,t,"removeTask");else if("string"!=typeof e||"function"!=typeof t)throw new Error("Error remove listener. Scheme .off(string: eventName, function: callback)")},this.add=function(e){if("object"!=typeof e)throw new Error("Incorrect event description, description is not an object.");Object.keys(e).forEach((function(t){if("function"!=typeof e[t])throw new Error("The description of the event with the name"+t+" was created incorrectly, the key value is not a function.");n[t]=e[t]}))},this.remove=function(e){void 0!==n[e]&&"string"==typeof e&&delete n[e]},this.construct(e)}}));